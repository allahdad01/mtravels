/**
 * RTL Reset CSS - Critical fixes for sidebar in RTL mode
 * This file resets problematic styles that might interfere with RTL layout
 */

/* Reset sidebar structure */
.pcoded-navbar {
    direction: rtl !important;
}

.pcoded-navbar .pcoded-inner-navbar {
    direction: rtl !important;
    text-align: right !important;
}

.pcoded-navbar .pcoded-inner-navbar .pcoded-item,
.pcoded-navbar .pcoded-inner-navbar .pcoded-item li,
.pcoded-navbar .pcoded-inner-navbar .pcoded-item li a {
    float: none !important;
    direction: rtl !important;
    text-align: right !important;
}

/* CRITICAL FIX: Force menu items to use correct layout */
.pcoded-navbar .pcoded-inner-navbar .pcoded-item li a,
.pcoded-navbar .nav-item a {
    display: flex !important;
    flex-direction: row !important; /* Standard row direction */
    flex-wrap: nowrap !important; /* Prevent wrapping to next line */
    justify-content: flex-start !important;
    align-items: center !important; /* Center items vertically */
    text-align: right !important;
    padding: 8px 20px !important;
    width: 100% !important;
    gap: 12px !important; /* Add space between icon and text */
}

/* CRITICAL FIX: Fix horizontal placement of icon and text */
.pcoded-navbar .pcoded-inner-navbar .pcoded-item li a .pcoded-micon,
.pcoded-navbar .pcoded-inner-navbar .pcoded-item li a i.feather,
.pcoded-navbar .pcoded-inner-navbar .pcoded-item li a i.fas,
.pcoded-navbar .nav-item a .pcoded-micon,
.pcoded-navbar .nav-item a i.feather,
.pcoded-navbar .nav-item a i.fas {
    float: right !important; 
    margin-left: 12px !important;
    margin-right: 0 !important;
    order: 2 !important; /* Move icons to end (right side) */
    display: inline-block !important; /* Critical for horizontal alignment */
    vertical-align: middle !important;
    flex-shrink: 0 !important; /* Prevent icon from shrinking */
    height: auto !important; /* Maintain icon height */
}

.pcoded-navbar .pcoded-inner-navbar .pcoded-item li a .pcoded-mtext,
.pcoded-navbar .nav-item a .pcoded-mtext {
    text-align: right !important;
    order: 1 !important; /* Text comes first */
    flex-grow: 1 !important;
    display: inline-block !important; /* Critical for horizontal alignment */
    vertical-align: middle !important;
    max-width: calc(100% - 40px) !important; /* Ensure text doesn't overlap icon */
}

/* Fix menu captions */
.pcoded-navbar .pcoded-inner-navbar .pcoded-menu-caption {
    text-align: right !important;
    padding-right: 20px !important;
}

/* Force all icons to right side */
.pcoded-navbar i,
.pcoded-navbar .feather,
.pcoded-navbar .fas {
    float: right !important;
    margin-left: 12px !important;
    margin-right: 0 !important;
    order: 2 !important; /* Icons second */
    vertical-align: middle !important;
}

/* Force all text to left side */
.pcoded-navbar .pcoded-mtext {
    text-align: right !important;
    order: 1 !important; /* Text first */
    vertical-align: middle !important;
}

/* Remove negative margins that might cause issues */
.pcoded-navbar .pcoded-inner-navbar .pcoded-item li {
    margin: 0 !important;
}

/* Fix dropdown arrows */
.pcoded-navbar .pcoded-inner-navbar li.pcoded-hasmenu > a:after {
    right: auto !important;
    left: 20px !important;
    position: absolute !important;
}

/* Fix submenu padding */
.pcoded-navbar .pcoded-inner-navbar .pcoded-item .pcoded-hasmenu .pcoded-submenu {
    padding-right: 40px !important;
    padding-left: 0 !important;
}

/* Fix submenu items */
.pcoded-navbar .pcoded-inner-navbar .pcoded-item li .pcoded-submenu li a {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    justify-content: flex-start !important;
    text-align: right !important;
    align-items: center !important;
}

/* EXTREME: Ensure all items use the correct layout */
.pcoded-navbar a {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    justify-content: flex-start !important;
    align-items: center !important;
    text-align: right !important;
}

.pcoded-navbar a i,
.pcoded-navbar a .pcoded-micon,
.pcoded-navbar a .feather,
.pcoded-navbar a .fas {
    margin-right: 0 !important;
    margin-left: 15px !important;
    float: right !important;
    order: 2 !important; /* Icons second */
    display: inline-block !important;
}

.pcoded-navbar a .pcoded-mtext {
    text-align: right !important;
    float: right !important;
    order: 1 !important; /* Text first */
    display: inline-block !important;
}

/* Target nav-item class specifically */
.pcoded-navbar .nav-item a {
    display: flex !important;
    flex-direction: row !important;
    flex-wrap: nowrap !important;
    justify-content: flex-start !important;
    align-items: center !important;
    padding: 10px 20px !important;
    text-align: right !important;
}

.pcoded-navbar .nav-item a .pcoded-micon,
.pcoded-navbar .nav-item a i {
    margin-left: 15px !important;
    margin-right: 0 !important;
    order: 2 !important; /* Icons second */
    display: inline-block !important;
}

.pcoded-navbar .nav-item a .pcoded-mtext {
    text-align: right !important;
    order: 1 !important; /* Text first */
    display: inline-block !important;
}

/* RTL Default Reset */
html[dir="rtl"] body,
body.rtl {
    direction: rtl;
    text-align: right;
}

/* RTL Dropdown Fixes */
html[dir="rtl"] .dropdown-menu,
body.rtl .dropdown-menu {
    text-align: right;
    left: 0 !important;
    right: auto !important;
}

html[dir="rtl"] .dropdown-menu-right,
body.rtl .dropdown-menu-right {
    left: 0 !important;
    right: auto !important;
}

/* RTL Header Dropdown Fixes - Header specific */
html[dir="rtl"] .pcoded-header .dropdown .dropdown-menu,
body.rtl .pcoded-header .dropdown .dropdown-menu {
    text-align: right !important;
    left: 0 !important; 
    right: auto !important;
    transform-origin: top left !important;
}

html[dir="rtl"] .pcoded-header .dropdown .dropdown-menu:before,
body.rtl .pcoded-header .dropdown .dropdown-menu:before {
    left: 10px !important;
    right: auto !important;
}

/* Fix dropdown items alignment */
html[dir="rtl"] .pcoded-header .dropdown .dropdown-menu .dropdown-item,
body.rtl .pcoded-header .dropdown .dropdown-menu .dropdown-item {
    text-align: right !important;
    direction: rtl !important;
}

/* Fix profile dropdown */
html[dir="rtl"] .pcoded-header .dropdown .profile-notification,
body.rtl .pcoded-header .dropdown .profile-notification {
    width: 290px !important;
    left: 0 !important;
    right: auto !important;
}

html[dir="rtl"] .pcoded-header .dropdown .profile-notification .pro-head,
body.rtl .pcoded-header .dropdown .profile-notification .pro-head {
    display: flex !important;
    flex-direction: row-reverse !important;
    text-align: right !important;
}

html[dir="rtl"] .pcoded-header .dropdown .profile-notification .pro-body li,
body.rtl .pcoded-header .dropdown .profile-notification .pro-body li {
    text-align: right !important;
}

html[dir="rtl"] .pcoded-header .dropdown .profile-notification .pro-body li a,
body.rtl .pcoded-header .dropdown .profile-notification .pro-body li a {
    display: flex !important;
    align-items: center !important;
    flex-direction: row-reverse !important;
    text-align: right !important;
}

html[dir="rtl"] .pcoded-header .dropdown .profile-notification .pro-body li a i,
body.rtl .pcoded-header .dropdown .profile-notification .pro-body li a i {
    margin-right: 0 !important;
    margin-left: 10px !important;
}

/* RTL language dropdown specific fixes */
html[dir="rtl"] .icon.feather.icon-globe + .dropdown-menu,
body.rtl .icon.feather.icon-globe + .dropdown-menu {
    min-width: 160px !important;
    left: 0 !important;
    right: auto !important;
}

/* Prevent dropdowns from going offscreen */
@media (min-width: 992px) {
    html[dir="rtl"] .navbar-nav .dropdown-menu,
    body.rtl .navbar-nav .dropdown-menu {
        position: absolute !important;
    }
}

/* Mobile specific adjustments */
@media (max-width: 991px) {
    html[dir="rtl"] .pcoded-header .dropdown .dropdown-menu,
    body.rtl .pcoded-header .dropdown .dropdown-menu {
        position: absolute !important;
        top: 100% !important;
        left: 0 !important;
        right: auto !important;
        transform: none !important;
    }
    
    /* Fix for dropdowns going off-screen */
    html[dir="rtl"] .pcoded-header .ml-auto .dropdown .dropdown-menu,
    body.rtl .pcoded-header .ml-auto .dropdown .dropdown-menu {
        left: 0 !important;
        right: auto !important;
    }
}

/* Additional dropdown arrow fixes for RTL */
html[dir="rtl"] .dropdown-toggle::after,
body.rtl .dropdown-toggle::after {
    margin-left: 0 !important;
    margin-right: 0.255em !important;
}

/* Fix caret position for bootstrap dropdowns */
html[dir="rtl"] .dropdown-menu::before,
body.rtl .dropdown-menu::before {
    left: 9px !important;
    right: auto !important;
}

/* Strengthen positioning for header */
html[dir="rtl"] .pcoded-header .dropdown,
body.rtl .pcoded-header .dropdown {
    position: relative !important;
}

/* Visibility fixes for RTL dropdowns */
html[dir="rtl"] .pcoded-header .dropdown.show .dropdown-menu,
body.rtl .pcoded-header .dropdown.show .dropdown-menu {
    display: block !important;
    visibility: visible !important;
    opacity: 1 !important;
}

/* Settings/profile dropdown icon fixes */
html[dir="rtl"] .pcoded-header .dropdown .dropdown-toggle i,
body.rtl .pcoded-header .dropdown .dropdown-toggle i {
    margin-right: 0 !important;
}

/* Item arrows/carets in dropdown menus */
html[dir="rtl"] .pcoded-header .dropdown .dropdown-item.dropdown-toggle::after,
body.rtl .pcoded-header .dropdown .dropdown-item.dropdown-toggle::after {
    transform: rotate(180deg) !important;
    right: auto !important;
    left: 15px !important;
    position: absolute !important;
}

/* Prevent dropdown overflow */
@media (min-width: 992px) {
    html[dir="rtl"] .pcoded-header .dropdown-menu,
    body.rtl .pcoded-header .dropdown-menu {
        max-width: 95vw !important;
        overflow-x: hidden !important;
    }
}

/* Fix for settings dropdown icon alignment */
html[dir="rtl"] .pcoded-header .drp-user .dropdown-toggle,
body.rtl .pcoded-header .drp-user .dropdown-toggle {
    padding-right: 0 !important;
}

/* Force dropdown not to go offscreen */
html[dir="rtl"] .pcoded-header .dropdown .dropdown-menu,
body.rtl .pcoded-header .dropdown .dropdown-menu {
    position: absolute !important;
    float: left !important;
    top: 100% !important;
    left: 0 !important;
    right: auto !important;
}

/* Ensure dropdown is displayed */
html[dir="rtl"] .pcoded-header .dropdown.show,
body.rtl .pcoded-header .dropdown.show {
    position: relative !important;
}

/* Force z-index to ensure dropdowns appear above other elements */
html[dir="rtl"] .pcoded-header .dropdown .dropdown-menu.show,
body.rtl .pcoded-header .dropdown .dropdown-menu.show {
    z-index: 1000 !important;
}

/* Fix padding and alignment */
html[dir="rtl"] .pcoded-header .dropdown .dropdown-menu .dropdown-item,
body.rtl .pcoded-header .dropdown .dropdown-menu .dropdown-item {
    padding: 0.5rem 1.5rem !important;
}

/* Language dropdown specific fix */
html[dir="rtl"] .language-dropdown-rtl-fix,
body.rtl .language-dropdown-rtl-fix {
    min-width: 160px !important;
    position: absolute !important;
    top: 100% !important;
    left: 0 !important;
    right: auto !important;
    transform: none !important;
}

/* Additional fixes for dropdown toggles */
html[dir="rtl"] .pcoded-header .dropdown-toggle,
body.rtl .pcoded-header .dropdown-toggle {
    position: relative !important;
}

html[dir="rtl"] .pcoded-header .dropdown-toggle::after,
body.rtl .pcoded-header .dropdown-toggle::after {
    margin-right: 0.255em !important;
    margin-left: 0 !important;
    vertical-align: 0.255em !important;
}

/* Settings icon dropdown fixes */
html[dir="rtl"] .pcoded-header .drp-user .profile-notification .dud-logout,
body.rtl .pcoded-header .drp-user .profile-notification .dud-logout {
    position: absolute !important;
    left: 10px !important;
    right: auto !important;
    top: 50% !important;
    transform: translateY(-50%) !important;
}

/* Fix for Bootstrap dropdown issues in RTL */
html[dir="rtl"] .pcoded-header .dropdown-menu.show,
body.rtl .pcoded-header .dropdown-menu.show {
    display: block !important;
    opacity: 1 !important;
    transform: none !important;
    top: 100% !important;
    visibility: visible !important;
}

/* Hard-coded fix for language switch dropdown */
html[dir="rtl"] .icon.feather.icon-globe + .dropdown-menu,
body.rtl .icon.feather.icon-globe + .dropdown-menu {
    min-width: 160px !important;
    max-height: unset !important;
    top: 100% !important;
    left: 0 !important;
    right: auto !important;
    transform: none !important;
    position: absolute !important;
}

/* Hard-coded fix for settings dropdown */
html[dir="rtl"] .icon.feather.icon-settings + .dropdown-menu,
body.rtl .icon.feather.icon-settings + .dropdown-menu,
html[dir="rtl"] .pcoded-header .dropdown .profile-notification,
body.rtl .pcoded-header .dropdown .profile-notification {
    width: 290px !important;
    max-height: unset !important;
    top: 100% !important;
    left: 0 !important;
    right: auto !important;
    transform: none !important;
    position: absolute !important;
} 